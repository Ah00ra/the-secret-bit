---
title: "Wget"
date: 2021-09-17T12:27:38+04:30
draft: true
tags: ["wget", "download", "internet", "download-manager", "دانلود", "اینترنت"]
---

<!-- todo
create menu here

-->

### مقدمه

یکی از ابزار های پر استفاده در دانلود فایل است، سال هاست که دانلود منیجر های گرافیکی و پیشرفته وجود دارند
اما با اینحال به این دلیل که
wget
گزینه های پیشرفته ای دارد، هنوز هم بسیار کاربردی و مفید است.
wget
جز اینکه برای دانلود فایل استفاده می‌شود، برای دانلود یا میرور کردن یک سایت هم استفاده می‌شود.

### دانلود فایل

```bash
wget "file_link"
```
برای دانلود چندین فایل به صورت همزمان کافیه لینک ها را با یک فاصله از هم جدا کنید

```bash
wget "link1" "link2" "link3"
```

### نمایش/عدم نمایش خروجی
زمانی که به یک سرور متصل می‌شوید اتفاقات زیادی رخ می‌دهد ازجمله
error
ها
و
http status code
ها
برای دیدن این اطلاعات باید برنامه را در مود
verbose
قرار داد.

```bash
-v,     --verbose
```

و اگر این اطلاعات نیاز نباشد، چون
wget
به صورت پیشفرض در این حالت قرار دارد، برای خلاص شدن از دیدن این اطلاعات کافیه برنامه زا از حالت
پر حرف منع کرد

```bash
-nv,    --no-verbose
-q,     --quiet
```
اگر نیاز به ذخیره این اطلاعات داشتید باید از سوییچ
`-o FileName.log`
استفاده کنید

نوعی دیگر از خروجی هم وجود دارد که اطلاعات بیشتری را نمایش می‌دهد

```bash
-d,     --debug
```

### خواندن لینک ها از فایل داخلی یا از اینترنت

گاهی تعداد لینک ها بیش از تعدادی می‌شود که بشود در ترمینال به نرم افزار داد.
یا ممکن است لینک های دانلود در یک صفحه
html
باشند.

برای اینکه یک فهرست از لینک ها را به صورت یکجا دانلود کنیم، باید از آپشن
```bash
-i "./songs.txt"
--input-file "https://example.com/2077/series/ControlPlustShift/s1/"
```
استفاده کنیم، مقدار این آپشن می‌تواند یک لینک از یک صفحه یا آدرس یک فایل متنی در سیستم شما باشد.
که در هر صورت
wget
تمامی لینک ها را خط به خط به تریب از خط اول دانلود خواهد کرد.

### ادامه دانلود متوقف شده یا شکست خورده
به هر دلیلی ممکن است دانلود شکست بخوره، مثل قطعی موقت اینترنت یا داون شدن سرور یا ممکن است که
شما دانلود را متوقف کنید.
برای اینکه دانلود قبلی را ادامه دهید، در همان پوشه ای که فایل نیمه دانلود شده شما قرار دارد، دستور
wget
و لینک فایل را مجدد وارد کنید اما با این تفاوت که شما باید از سوییچ
`-c`
استفاده کنید

```bash
wget -c "last-link"
wget --continue "last-link"
```

### تلاش مجدد
اگر
wget
در دانلود فایل شکت بخورد، باز هم دست از تلاش بر نخواهد داشت و بی‌نهایت بار تلاش برای دانلود را ادامه خواهد داد.
اما برای مشخص کردن تعداد تلاش دانلود باید از سوییچ

```bash
-t,     --tries
```
استفاده کرد. اما اگر کانکشن شما به اینترنت قطع شود
wget
دانلود را ادامه نخواهد داد. برای اینکه در این موقعیت هم تلاش برای دانلود متوقف نشود باید با از این سوییچ 
استفاده کرد

```bash
--retry-connrefused
```

ارور های مختلفی وجود دارد که ممکن است هنگام دانلود رخ دهد.
مثل 404 که زمانی رخ می‌دهد که لینک به محتوایی اشاره کند که وجود ندارد.
یا 429 که در مواقعی رخ می‌دهد که شما درخواست های مکرری به سرور سایت داشتید.
و یا 503 که در زمانی رخ می‌دهد که سرور مشغول باشد و توان پردازش درخواست شما را نداشته باشد.
برای مشخص کردن اینکه فقط در زمان وقوع چه ارور هایی تلاش برای دانلود مجدد انجام شود، از این سوییچ استفاده 
می‌شود. توجه داشته باشید که مقدار این سوییچ یک لیست از کد های ارور است که با علامت کاما از هم جدا می‌شوند

```bash
--retry-on-http-error=ERRORS
```

برای اینکه بین هر تلاش مجدد یک وقفه زمانی قرار دهیم از سوییچ
`--waitretry`
استفاده می‌کنیم، زمان بر اساس ثانیه است.

```bash
--waitretry
```

### وقفه
برای وقفه گذاشتن بین دانلود ها دو سوییچ داریم. وقفه تصادفی و وقفه طبق زمان مشخص.

وقفه با زمان مشخص

```bash
-w,     --wait
```

وقفه با زمان رندم ممکن است امکان بن شدن شما را کمتر کند. درواقع اگر شما دارید بیشتر از یک فایل را دانلود 
می‌کنید یا تعداد کانکشن زیادی به یک سایت دارید، باید از وقفه استفاده کنید. اگر این وفقه ها زمانی مشخص باشند، ممکن است سایت فعالیت مشکوکی را تشخیص دهد، برای همین بهتر است از وقفه تصادفی استفاده کنید.
<!-- begin of todo -->
```bash
--random-wait 
```
<!-- emd of todo -->



<!-- todo
نکته ها
یکی اینکه باید حتما از کوتیشن استفاده کرد وگر نه وایلد کار شناخته میشه -->